<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Shopping Cart</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="icon" type="image/png" href="image/image9.png">
</head>

<body class="bg-gray-50">

  <div class="max-w-6xl mx-auto px-6 py-12">
    <h1 class="text-3xl font-bold mb-8">Shopping Cart</h1>

    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">

      <!-- Cart Items -->
      <div class="lg:col-span-2">
        <ul id="cartItems" class="space-y-6"></ul>
      </div>

      <!-- Order Summary -->
      <div class="bg-white rounded-xl shadow p-6 h-fit">
        <h2 class="text-lg font-semibold mb-4">Order Summary</h2>

        <div class="flex justify-between text-sm mb-2">
          <span>Subtotal</span>
          <span id="subtotal">$0.00</span>
        </div>


        <div class="flex justify-between text-sm mb-4">
          <span>Tax</span>
          <span id="tax">$0.00</span>
        </div>

        <div class="flex justify-between font-bold text-lg border-t pt-4">
          <span>Total</span>
          <span id="total">$0.00</span>
        </div>

        <button
          class="mt-6 w-full bg-indigo-600 text-white py-3 rounded-lg hover:bg-indigo-700 transition">
          Checkout
        </button>
      </div>
    </div>
  </div>


  <!-- CART SCRIPT -->
  <script>
    let cart = JSON.parse(localStorage.getItem("cart")) || [];
    const cartItems = document.getElementById("cartItems");
    const subtotalEl = document.getElementById("subtotal");
    const taxEl = document.getElementById("tax");
    const totalEl = document.getElementById("total");

    function renderCart() {
      cartItems.innerHTML = "";
      let subtotal = 0;

      cart.forEach((item, index) => {
        subtotal += item.price * item.qty;

        cartItems.innerHTML += `
          <li class="bg-white rounded-xl shadow p-4 flex gap-4 items-center">
            <img src="https://via.placeholder.com/100" class="w-24 h-24 rounded object-cover">

            <div class="flex-1">
              <h3 class="font-semibold">${item.name}</h3>
              <p class="text-indigo-600 font-bold">$${item.price.toFixed(2)}</p>

              <div class="flex items-center gap-3 mt-3">
                <select class="border rounded px-2 py-1"
                  onchange="updateQty(${index}, this.value)">
                  ${[1,2,3,4,5].map(q =>
                    `<option ${q === item.qty ? "selected" : ""}>${q}</option>`
                  ).join("")}
                </select>

                <button onclick="removeItem(${index})"
                  class="text-sm text-red-600 hover:underline">
                  Remove
                </button>
              </div>
            </div>
          </li>
        `;
      });

      const tax = subtotal * 0.1;
      const total = subtotal + tax;

      subtotalEl.textContent = `$${subtotal.toFixed(2)}`;
      taxEl.textContent = `$${tax.toFixed(2)}`;
      totalEl.textContent = `$${total.toFixed(2)}`;

      localStorage.setItem("cart", JSON.stringify(cart));
    }

    function removeItem(index) {
      cart.splice(index, 1);
      renderCart();
    }

    function updateQty(index, qty) {
      cart[index].qty = Number(qty);
      renderCart();
    }

    renderCart();
  </script>
</body>
</html>
